<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Wildlife in Australia</title>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
    integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="styles.css" media="all">

</head>

<body>

  <div class="page">  

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>Wildlife in Australia</h1>
        <p>Exploring animal species richness and distribution across Australian states.</p>
      </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <div id="vis1" class="vis-container"></div>
      </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <div id="vis2" class="vis-container"></div>
      </div>
    </div>
    <!-- end pure grid group -->

    <div class="pure-g">
      <div class="pure-u-1-1 small-font">
        <p>This visualisation is created by Firza Pradipta Atalla (33989591). The datasource is <a href="https://github.com/frzatla/3179-Visualisation2" target="_blank">Wildlife Data Repository</a>.</p>
      </div>
    </div>

  </div> <!-- end page -->

  <script type="text/javascript">
  // Map specification inline
  var specVis1 = { 
    $schema: "https://vega.github.io/schema/vega-lite/v5.json", 
    width: 900,  
    height: 600,
    projection: {type: "equirectangular"},
    layer: [ 
      {
        data: { 
          url: "https://raw.githubusercontent.com/frzatla/3179-Visualisation2/main/aus-states.json",    
          format: {type: "topojson", feature: "STE_2016_AUST"}  
        }, 
        mark: {type: "geoshape", fill: "lightgray", stroke: "white"}
      },
      {
        data: { 
          url: "https://raw.githubusercontent.com/frzatla/3179-Visualisation2/main/ne_110m_graticules_10.json",    
          format: {type: "topojson", feature: "ne_110m_graticules_10"}  
        }, 
        mark: {type: "geoshape", fill: null, stroke: "black", strokeWidth: 0.5}
      },
      {
        data: { 
          url: "https://raw.githubusercontent.com/frzatla/3179-Visualisation2/main/wildlife_species_counts_by_state.csv"
        },
        mark: {type: "circle"},
        encoding: {
          longitude: {field: "longitude", type: "quantitative"},
          latitude: {field: "latitude", type: "quantitative"},
          size: {
            field: "species_count",
            type: "quantitative",
            title: "Quantity",
            scale: {
              domain: [6000, 40000],
              range: [500, 4000]
            }
          },
          color: {
            field: "species_count",
            type: "quantitative",
            title: "Distinct animal species",
            scale: {scheme: "greens"},
            legend: {
              padding: 20,
              offset: 10
            }
          },
          tooltip: [
            {field: "state", type: "nominal", title: "State:"},
            {field: "species_count", type: "quantitative", title: "Species Count:", format: ","},
            {field: "latitude", type: "quantitative", title: "Latitude:", format: ".1f"},
            {field: "longitude", type: "quantitative", title: "Longitude:", format: ".1f"}
          ]
        }
      }
    ], 
    config: {view: {stroke: null}} 
  };
  
  var specVis2 = "donut.json";

  vegaEmbed('#vis1', specVis1, { "actions": false }).then(function (result) {
    // Access the Vega view instance
  }).catch(console.error);

  vegaEmbed('#vis2', specVis2, { "actions": false }).then(function (result) {
    // Access the Vega view instance
  }).catch(console.error);
</script>
</body>

</html>
